# Kusto Query Language (KQL) Examples using `emp` and `dept` Tables


## 📌 1. Kusto Query Language (KQL) Overview
KQL is a powerful query language for Azure Data Explorer (ADX) used to explore large volumes of structured and semi-structured data.

## 🖥️ 2. Kusto Explorer Installation and User Interface
- install Kusto Explorer is a desktop tool for running KQL queries https://learn.microsoft.com/en-us/kusto/tools/kusto-explorer?view=microsoft-fabric
- Alternatively, use https://dataexplorer.azure.com/freecluster.

## 💬 3. Add a Comment in KQL
```kql
// This is a single-line comment
```

## 📛 4. Alias Statement in KQL
```kql
emp | as employee | take 3
```

## 📥 5. Query Parameters Declaration Statement in KQL
```kql
let min_salary = 2000;
emp
| where sal > min_salary
```

## 📦 6. Batches in KQL
Run multiple queries together:
```kql
emp | count;
dept | count
```

## 🧱 7. `datatable()` Operator in KQL
```kql
let demo = datatable(id:int, name:string)[1, "Alice", 2, "Bob"];
demo
```

## 🔢 8. `count()` & `distinct()` Operators
```kql
emp | count;
emp | distinct job
```

## 🔍 9. `project` Operator
```kql
emp | project empno, ename, sal;
```

## ✂️ 10. `project-away` & `project-keep`
```kql
emp | project-away comm, mgr;
emp | project-keep empno, job
```

## 🔄 11. `project-rename` & `project-reorder`
```kql
emp | project-rename EmployeeName = ename;
emp | project-reorder empno, deptno, ename;
```

## 🧬 12. `getschema` Operator
```kql
emp | getschema;
```

## 🖨️ 13. `print` Operator
```kql
print now = now(), version = "KQL";
```

## ➗ 14. `range` Operator
```kql
range x from 1 to 10 step 2;
```

## 🔍 15. `where` & `filter` Operators
```kql
emp | where job == "CLERK";
```

## 🎯 16. `take` & `limit` Operators
```kql
emp | take 5;
emp | limit 5
```

## 🏆 17. `top` Operator
```kql
emp | top 3 by sal desc
```

## ➕ 18. `extend` Operator
```kql
emp | extend annual_salary = sal * 12
```

## 📊 19. `union` Operator
```kql
let by_dept = emp
| summarize count() by deptno;


let by_job = emp
| summarize count() by job;

union 
(by_dept | project Category="ByDept", Label=deptno, Count=count_),
(by_job | project Category="ByJob", Label=job, Count=count_)
```


## 🎲 20. `sample` Operator
```kql
emp | sample 3
```


